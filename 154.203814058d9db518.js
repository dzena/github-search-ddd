"use strict";(self.webpackChunkgithub_search_ddd=self.webpackChunkgithub_search_ddd||[]).push([[154],{294:(C,y,e)=>{e.d(y,{SI:()=>a,LA:()=>n,Au:()=>s,E6:()=>c});var t=e(1135),m=e(4004),u=e(1884);const h={entities:[],totalCount:0};class s extends class p{constructor(d){this.state$=new t.X(d)}get state(){return this.state$.getValue()}select(d){return this.state$.asObservable().pipe((0,m.U)(f=>d(f)),(0,u.x)())}setState(d){this.state$.next(Object.assign(Object.assign({},this.state),d))}}{constructor(){super(h),this.entities$=this.select(({entities:d})=>d),this.totalCount$=this.select(({totalCount:d})=>d)}setEntities(d,f){this.setState({entities:[...d],totalCount:f})}}var g=e(9300),_=e(3900),l=e(262),v=e(515);class n{constructor(d,f,P){this._route=d,this._entityState=f,this._entityDataService=P,this.entities$=this._entityState.entities$}loadEntities(){this._route.queryParams.pipe((0,g.h)(d=>"q"in d),(0,_.w)(d=>this._entityDataService.getSearchResult(d).pipe((0,l.K)(()=>v.E)))).subscribe(d=>{const{items:f,total_count:P}=d;this._entityState.setEntities(f,P)})}}var r=e(520),o=e(5e3),c=(()=>{return(i=c||(c={})).USERS="users",i.REPOSITORIES="repositories",c;var i})();let a=(()=>{class i{constructor(f,P,E){this.BASE_URL=f,this._http=P,this._elt=E,this._entityListType=E}getSearchResult(f){const P=new r.LE({fromObject:f});return this._http.get(this.BASE_URL+`/search/${this._entityListType}`,{params:P})}getEntityById(f){return this._http.get(this.BASE_URL+`/${this._entityListType}/${f}`)}}return i.\u0275fac=function(f){return new(f||i)(o.LFG("BASE_URL"),o.LFG(r.eN),o.LFG(c))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4299:(C,y,e)=>{e.d(y,{R:()=>_});var t=e(5e3),m=e(1083),u=e(5181),p=e(4889),h=e(4455),s=e(4449);const g=function(l,v){return{q:l,page:"1",per_page:v}};let _=(()=>{class l{constructor(n,r){this._router=n,this.route=r}search(n){n?this._router.navigate([],{relativeTo:this.route,queryParams:{q:n,page:"1"},queryParamsHandling:"merge"}):this._router.navigate(["/"])}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(m.F0),t.Y36(m.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["github-search-ddd-entity-list-container"]],decls:11,vars:10,consts:[[1,"search-res-sidenav-container"],["mode","side","opened","",1,"search-res-sidenav"],[3,"submitted"],["mat-list-item","","routerLinkActive","active-menu-item",3,"routerLink","queryParams"]],template:function(n,r){1&n&&(t._UZ(0,"github-search-ddd-toolbar"),t.TgZ(1,"mat-sidenav-container",0),t.TgZ(2,"mat-sidenav",1),t.TgZ(3,"github-search-ddd-search-form",2),t.NdJ("submitted",function(c){return r.search(c)}),t.qZA(),t.TgZ(4,"mat-nav-list"),t.TgZ(5,"a",3),t._uU(6,"Users"),t.qZA(),t.TgZ(7,"a",3),t._uU(8,"Repositories"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"mat-sidenav-content"),t._UZ(10,"router-outlet"),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("routerLink","/search/users")("queryParams",t.WLB(4,g,r.route.snapshot.queryParams.q,r.route.snapshot.queryParams.per_page)),t.xp6(2),t.Q6J("routerLink","/search/repositories")("queryParams",t.WLB(7,g,r.route.snapshot.queryParams.q,r.route.snapshot.queryParams.per_page)))},directives:[u.n,p.TM,p.JX,h.o,s.Hk,s.Tg,m.yS,m.Od,p.Rh,m.lC],styles:[".search-res-sidenav-container[_ngcontent-%COMP%]{height:calc(100% - 56px)}.search-res-sidenav-container[_ngcontent-%COMP%]   .search-res-sidenav[_ngcontent-%COMP%]{width:230px}.search-res-sidenav-container[_ngcontent-%COMP%]   .active-menu-item[_ngcontent-%COMP%]{background:rgba(63,81,181,.15);color:#3f51b5}"],changeDetection:0}),l})()},5460:(C,y,e)=>{e.d(y,{IG:()=>p,de:()=>s,oD:()=>h});var t=e(9808),m=e(7844),u=e(5e3);let p=(()=>{class g{}return g.\u0275fac=function(l){return new(l||g)},g.\u0275mod=u.oAB({type:g}),g.\u0275inj=u.cJS({imports:[[t.ez,m.q]]}),g})();const h=[{label:"Best match",sort:null,order:"asc"},{label:"Most followers",sort:"followers",order:"desc"},{label:"Fewest followers",sort:"followers",order:"asc"},{label:"Most recently joined",sort:"joined",order:"desc"},{label:"Least recently joined",sort:"joined",order:"asc"},{label:"Most repositories",sort:"repositories",order:"desc"},{label:"Fewest repositories",sort:"repositories",order:"asc"}],s=[{label:"Best match",sort:null,order:"asc"},{label:"Most stars",sort:"stars",order:"desc"},{label:"Fewest stars",sort:"stars",order:"asc"},{label:"Most forks",sort:"forks",order:"desc"},{label:"Fewest forks",sort:"forks",order:"asc"},{label:"Recently updated",sort:"updated",order:"desc"},{label:"Least recently updated",sort:"updated",order:"asc"}]},8568:(C,y,e)=>{e.d(y,{H:()=>_});var t=e(5e3),m=e(1083),u=e(7322),p=e(4107),h=e(9808),s=e(508);function g(l,v){if(1&l&&(t.TgZ(0,"mat-option",3),t._uU(1),t.qZA()),2&l){const n=v.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n.label)}}let _=(()=>{class l{constructor(n,r){this._route=n,this._router=r,this.options=[],this.value=null}ngAfterViewInit(){this._setInitFilterValue()}filterChanged(n){const{sort:r,order:o}=n;this._router.navigate([],{relativeTo:this._route,queryParams:{sort:r,order:o},queryParamsHandling:"merge"})}_setInitFilterValue(){const{sort:n,order:r}=this._route.snapshot.queryParams;let o=this.options[0];if(n&&r){const c=this.options.find(a=>a.sort===n&&a.order===r);c&&(o=c)}this.value=o}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(m.gz),t.Y36(m.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["github-search-ddd-list-filter"]],inputs:{options:"options"},decls:5,vars:2,consts:[["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&(t.TgZ(0,"mat-form-field",0),t.TgZ(1,"mat-label"),t._uU(2,"Sort"),t.qZA(),t.TgZ(3,"mat-select",1),t.NdJ("valueChange",function(c){return r.filterChanged(c)}),t.YNc(4,g,2,2,"mat-option",2),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Q6J("value",r.value),t.xp6(1),t.Q6J("ngForOf",r.options))},directives:[u.KE,u.hX,p.gD,h.sg,s.ey],styles:[""],changeDetection:0}),l})()},7537:(C,y,e)=>{e.d(y,{n:()=>r});var t=e(5e3),m=e(7093),u=e(4449),p=e(9062),h=e(7579),s=e(2722),g=e(1083);let _=(()=>{class o{constructor(a,i){this._route=a,this._router=i,this._unsubscribe=new h.x}ngAfterViewInit(){this._onPageEvent(),this._updatePaginatorFromQueryParams()}ngOnDestroy(){this._unsubscribe.next(),this._unsubscribe.complete()}_onPageEvent(){this.paginator.page.pipe((0,s.R)(this._unsubscribe)).subscribe(a=>{const i={page:(a.pageIndex+1).toString(),per_page:a.pageSize.toString()};this._router.navigate([],{queryParams:i,queryParamsHandling:"merge"})})}_updatePaginatorFromQueryParams(){this._route.queryParams.pipe((0,s.R)(this._unsubscribe)).subscribe(({page:a,per_page:i})=>{i&&(this.paginator.pageSize=i),a&&(this.paginator.pageIndex=parseInt(a)-1)})}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(g.gz),t.Y36(g.F0))},o.\u0275dir=t.lG2({type:o,selectors:[["","githubSearchDddPaginatorQueryReflector",""]],inputs:{paginator:"paginator"}}),o})();var l=e(9808);const v=[[["","filter",""]],"*"],n=["[filter]","*"];let r=(()=>{class o{constructor(){this.totalCount=0,this.pageSizeOptions=[10,25,50]}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["github-search-ddd-list"]],inputs:{totalCount:"totalCount"},ngContentSelectors:n,decls:10,vars:7,consts:[["fxLayoutAlign","space-between center",1,"list-heading"],[1,"list-container"],[1,"list"],["githubSearchDddPaginatorQueryReflector","",1,"paginator",3,"length","pageSizeOptions","pageSize","paginator"],["p",""]],template:function(a,i){if(1&a&&(t.F$t(v),t.TgZ(0,"div",0),t.TgZ(1,"h2"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.Hsn(4),t.qZA(),t.TgZ(5,"div",1),t.TgZ(6,"mat-list",2),t.Hsn(7,1),t.qZA(),t.qZA(),t._UZ(8,"mat-paginator",3,4)),2&a){const d=t.MAs(9);t.xp6(2),t.hij("Total results found ",t.lcZ(3,5,i.totalCount),""),t.xp6(6),t.Q6J("length",i.totalCount)("pageSizeOptions",i.pageSizeOptions)("pageSize",i.pageSizeOptions[1])("paginator",d)}},directives:[m.Wh,u.i$,p.NW,_],pipes:[l.JJ],styles:[".list-heading{height:75px;padding:0 100px}.list-container{height:calc(100% - 131px);padding:0 100px;overflow:auto}.list-container .list-item{border-bottom:1px solid rgba(0,0,0,.12)}.list-container .list-item:last-child{border-bottom:none}.list-container .list-item .list-item-title a,.list-container .list-item .list-item-title a:visited{color:#000;text-decoration:none}.list-container .list-item .list-item-title a:hover{text-decoration:underline}.list-container .list-item-tag{margin-right:3px;border:solid 1px #dddddd;padding:1px 3px;border-radius:4px;display:inline-block;color:#9b9b9b;font-size:9px;letter-spacing:0;line-height:10px}.paginator{position:sticky;height:56px;bottom:0}\n"],encapsulation:2,changeDetection:0}),o})()},1697:(C,y,e)=>{e.d(y,{X:()=>h});var t=e(9808),m=e(7844),u=e(5e3);let p=(()=>{class s{}return s.\u0275fac=function(_){return new(_||s)},s.\u0275mod=u.oAB({type:s}),s.\u0275inj=u.cJS({imports:[[t.ez]]}),s})(),h=(()=>{class s{}return s.\u0275fac=function(_){return new(_||s)},s.\u0275mod=u.oAB({type:s}),s.\u0275inj=u.cJS({imports:[[t.ez,m.q,p]]}),s})()},4455:(C,y,e)=>{e.d(y,{o:()=>r});var t=e(5e3),m=e(1083),u=e(3075),p=e(7093),h=e(7322),s=e(7531),g=e(9808),_=e(5245);function l(o,c){1&o&&(t.TgZ(0,"mat-icon",5),t._uU(1,"search"),t.qZA())}const v=[[["","search-form-button",""]]],n=["[search-form-button]"];let r=(()=>{class o{constructor(a){this._route=a,this.showSearchIcon=!0,this.submitted=new t.vpe,this.value=""}ngAfterViewInit(){const{q:a}=this._route.snapshot.queryParams;this.value=null!=a?a:""}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(m.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["github-search-ddd-search-form"]],inputs:{showSearchIcon:"showSearchIcon"},outputs:{submitted:"submitted"},ngContentSelectors:n,decls:8,vars:2,consts:[["fxLayoutAlign","center center","fxLayoutGap","5px",1,"search-form",3,"ngSubmit"],["searchForm","ngForm"],["appearance","outline",1,"search-input"],["matInput","","type","text","name","q","ngModel","",3,"value"],["matPrefix","",4,"ngIf"],["matPrefix",""]],template:function(a,i){if(1&a){const d=t.EpF();t.F$t(v),t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(d);const P=t.MAs(1);return i.submitted.emit(P.value.q)}),t.TgZ(2,"mat-form-field",2),t.TgZ(3,"mat-label"),t._uU(4,"Search"),t.qZA(),t._UZ(5,"input",3),t.YNc(6,l,2,0,"mat-icon",4),t.qZA(),t.Hsn(7),t.qZA()}2&a&&(t.xp6(5),t.Q6J("value",i.value),t.xp6(1),t.Q6J("ngIf",i.showSearchIcon))},directives:[u._Y,u.JL,u.F,p.Wh,p.SQ,h.KE,h.hX,s.Nt,u.Fj,u.JJ,u.On,g.O5,_.Hw,h.qo],styles:[".search-page-container[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .search-page-container   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}"],changeDetection:0}),o})()},5181:(C,y,e)=>{e.d(y,{n:()=>v});var t=e(5e3),m=e(4594),u=e(1083),p=e(7093),h=e(485),s=e(9808),g=e(5899);function _(n,r){1&n&&t._UZ(0,"mat-progress-bar",1)}let l=(()=>{class n{constructor(o){this._loadingProgressService=o,this.isLoading$=this._loadingProgressService.loading$}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["github-search-ddd-loading-progress"]],decls:2,vars:3,consts:[["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(o,c){1&o&&(t.YNc(0,_,1,0,"mat-progress-bar",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,c.isLoading$))},directives:[s.O5,g.pW],pipes:[s.Ov],styles:[""],changeDetection:0}),n})(),v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["github-search-ddd-toolbar"]],decls:6,vars:0,consts:[[1,"toolbar-container"],["color","primary",1,"app-toolbar"],["routerLink","/","fxLayoutAlign","center center"],["src","assets/images/github.svg"],[1,"app-progress-bar"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar",1),t.TgZ(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"github-search-ddd-loading-progress"),t.qZA(),t.qZA())},directives:[m.Ye,u.yS,p.Wh,l],styles:[".toolbar-container[_ngcontent-%COMP%]   .app-toolbar[_ngcontent-%COMP%]{height:52px}.toolbar-container[_ngcontent-%COMP%]   .app-toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}.toolbar-container[_ngcontent-%COMP%]   .app-progress-bar[_ngcontent-%COMP%]{height:4px}"],changeDetection:0}),n})()}}]);